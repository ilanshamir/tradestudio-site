---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ScreenshotPlaceholder from '../../components/ScreenshotPlaceholder.astro';
import CTASection from '../../components/CTASection.astro';
---

<BaseLayout title="AI Strategy Lab — Tradevoy" description="Describe a trading strategy in plain English. Get 3–5 compiled, backtested C# strategies in 30 seconds. Powered by AI and Roslyn.">

  <section class="py-20 px-6">
    <div class="mx-auto max-w-5xl">
      <div class="mb-4 text-sm font-semibold uppercase tracking-wider text-accent-purple">Flagship Feature</div>
      <h1 class="text-4xl font-extrabold md:text-5xl">AI Strategy Lab</h1>
      <p class="mt-4 max-w-2xl text-lg text-text-secondary">From idea to backtested strategy in 30 seconds. Describe what you want in plain English. Tradevoy AI generates real C# code, Roslyn compiles it, and you see the results instantly.</p>
    </div>
  </section>

  <section class="px-6 pb-16">
    <div class="mx-auto max-w-5xl">
      <ScreenshotPlaceholder label="Strategy Lab with generated strategies and backtest results" />
    </div>
  </section>

  <!-- How It Works -->
  <section class="border-t border-border bg-bg-secondary py-16 px-6">
    <div class="mx-auto max-w-4xl">
      <h2 class="text-2xl font-bold mb-8">How it works</h2>
      <div class="space-y-8">
        <div class="flex gap-6">
          <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-accent-purple/10 text-accent-purple font-bold">1</div>
          <div>
            <h3 class="font-semibold text-lg">Describe your strategy</h3>
            <p class="mt-1 text-text-secondary">Type a natural language prompt: "momentum strategy using RSI and MACD, avoiding drawdowns over 10%." Be as specific or broad as you want.</p>
          </div>
        </div>
        <div class="flex gap-6">
          <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-accent-purple/10 text-accent-purple font-bold">2</div>
          <div>
            <h3 class="font-semibold text-lg">Tradevoy AI generates 3–5 strategies</h3>
            <p class="mt-1 text-text-secondary">Each strategy takes a meaningfully different approach to your prompt. Not variations of the same idea — genuinely distinct implementations.</p>
          </div>
        </div>
        <div class="flex gap-6">
          <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-accent-purple/10 text-accent-purple font-bold">3</div>
          <div>
            <h3 class="font-semibold text-lg">Roslyn compiles in-process</h3>
            <p class="mt-1 text-text-secondary">Real C# code, compiled by Microsoft's Roslyn compiler. No black boxes. You can read, modify, and extend every line.</p>
          </div>
        </div>
        <div class="flex gap-6">
          <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-accent-purple/10 text-accent-purple font-bold">4</div>
          <div>
            <h3 class="font-semibold text-lg">Backtest against real data</h3>
            <p class="mt-1 text-text-secondary">Each strategy runs against your loaded price data. Results include Total Return, Sharpe, Sortino, Max Drawdown, Win Rate, Profit Factor, and more.</p>
          </div>
        </div>
        <div class="flex gap-6">
          <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-accent-purple/10 text-accent-purple font-bold">5</div>
          <div>
            <h3 class="font-semibold text-lg">Rank, refine, optimize</h3>
            <p class="mt-1 text-text-secondary">Strategies are ranked by your chosen fitness metric. Refine conversationally — ask Tradevoy AI to adjust. Then use the parameter optimizer to find the best configuration.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Technical Details -->
  <section class="py-16 px-6">
    <div class="mx-auto max-w-4xl">
      <h2 class="text-2xl font-bold mb-8">Technical details</h2>
      <div class="grid gap-6 md:grid-cols-2">
        <div class="rounded-xl border border-border bg-bg-secondary p-6">
          <h3 class="font-semibold text-accent-purple">Roslyn Compilation</h3>
          <p class="mt-2 text-sm text-text-secondary">Microsoft.CodeAnalysis.CSharp compiles generated strategies in-process. No external build tools. Compilation errors are caught and displayed immediately.</p>
        </div>
        <div class="rounded-xl border border-border bg-bg-secondary p-6">
          <h3 class="font-semibold text-accent-purple">Conversational Refinement</h3>
          <p class="mt-2 text-sm text-text-secondary">Don't like the results? Tell Tradevoy AI what to change. "Make it more conservative" or "Add a volatility filter" — the conversation continues with full context.</p>
        </div>
        <div class="rounded-xl border border-border bg-bg-secondary p-6">
          <h3 class="font-semibold text-accent-purple">Parameter Optimizer</h3>
          <p class="mt-2 text-sm text-text-secondary">Grid search across parameter ranges. Define min, max, and step for each parameter. Results ranked by your chosen metric.</p>
        </div>
        <div class="rounded-xl border border-border bg-bg-secondary p-6">
          <h3 class="font-semibold text-accent-purple">No Look-Ahead Bias</h3>
          <p class="mt-2 text-sm text-text-secondary">All indicators are stateless pure functions. Retrospective detection warns about potential look-ahead bias in generated code.</p>
        </div>
      </div>
    </div>
  </section>

  <CTASection
    title="Try the Strategy Lab"
    subtitle="Describe an idea. Get compiled code. See results. 30 seconds."
    primaryCta={{ label: 'Download Free', href: '/download' }}
  />

</BaseLayout>
